{"version":3,"sources":["reportWebVitals.ts","App.tsx","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","App","useState","update","fileRef","useRef","sizeRef","getFilename","paths","current","value","replace","split","undefined","length","slice","join","download","useCallback","a","files","cogoToast","error","size","Number","isInteger","file","Promise","resolve","reject","reader","FileReader","onload","result","onerror","err","readAsDataURL","data","base64","bytes","Uint8Array","from","atob","c","charCodeAt","json","convert","filename","element","document","createElement","blob","Blob","type","href","URL","createObjectURL","body","appendChild","click","remove","console","useEffect","className","Card","Content","Header","as","Form","onSubmit","e","preventDefault","Field","Button","onClick","positive","ref","accept","multiple","hidden","onChange","min","max","MAX_SAFE_INTEGER","defaultValue","primary","Meta","style","textAlign","Divider","marginBottom","Icon","name","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.07f43b7e.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { useCallback, useRef, useState } from 'react';\nimport { Form, Header, Button, Card, Icon, Divider } from 'semantic-ui-react';\nimport cogoToast from 'cogo-toast';\nimport { convert } from 'tgs2lottie';\nimport { useEffect } from 'react';\n\nfunction App() {\n  const [, update] = useState({});\n  const fileRef = useRef<HTMLInputElement>(null);\n  const sizeRef = useRef<HTMLInputElement>(null);\n\n  const getFilename = (): string | undefined => {\n    const paths = fileRef.current?.value.replace(/\\\\/g, '/').split('/');\n    if (paths === undefined) return undefined;\n    const filename = paths[paths.length - 1].split('.').slice(0, -1).join('.');\n    return filename;\n  }\n\n  const download = useCallback(async () => {\n    if (fileRef.current?.files == null || fileRef.current?.files.length === 0) {\n      cogoToast.error('please set the file');\n      return;\n    }\n\n    const size = Number(sizeRef.current?.value);\n    if (!Number.isInteger(size)) {\n      cogoToast.error('size is not integer');\n      return;\n    }\n\n    try {\n      const file = fileRef.current?.files[0];\n      const data: string = await (new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => {\n          resolve(reader.result as string);\n        }\n        reader.onerror = (err) => {\n          reject(err);\n        }\n\n        reader.readAsDataURL(file);\n      }));\n\n      const base64 = data.split(';base64,').slice(1).join(';base64,');\n      const bytes = Uint8Array.from(atob(base64), c => c.charCodeAt(0));\n      const json = convert(bytes, size);\n\n      const filename = getFilename();\n      const element = document.createElement(\"a\");\n      const blob = new Blob([json], { type: 'text/json' });\n      element.href = URL.createObjectURL(blob);\n      element.download = `${filename}_${size}.json`;\n      document.body.appendChild(element);\n      element.click();\n      element.remove();\n    } catch (e) {\n      cogoToast.error('an error occurred during conversion!');\n      console.error(e);\n    } finally {\n      if (fileRef.current != null) fileRef.current.value = \"\";\n      update({});\n    }\n  }, [fileRef, sizeRef]);\n\n  useEffect(() => { update({}) }, [fileRef]);\n\n  return (\n    <div className=\"app\">\n      <Card>\n        <Card.Content>\n          <Header as=\"h1\">TGS2Lottie</Header>\n\n          <Form onSubmit={(e) => e.preventDefault()}>\n            <Form.Field>\n              <label>Telegram Animated Sticker (.tgs):</label>\n              <Button size=\"tiny\" type=\"\" onClick={() => fileRef.current?.click()} positive>Select file</Button>\n              {getFilename() ? `${getFilename()}.tgs` : 'Please select a file'}\n\n              <input ref={fileRef} type=\"file\" accept=\".tgs\" multiple={false} hidden={true} onChange={() => update({})} />\n            </Form.Field>\n            <Form.Field>\n              <label>Size:</label>\n              <input ref={sizeRef} type=\"number\" min={1} max={Number.MAX_SAFE_INTEGER} defaultValue={512} />\n            </Form.Field>\n            <Button onClick={download} primary>Download</Button>\n          </Form>\n\n          <Card.Meta style={{ textAlign: 'right' }}>\n            <Divider style={{ marginBottom: 8 }} />\n            <a href=\"https://github.com/kamyu1537/tgs2lottie.git\">\n              <Icon name=\"github\" /> Github\n            </a>\n          </Card.Meta>\n        </Card.Content>\n      </Card>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport reportWebVitals from './reportWebVitals';\n\nimport 'semantic-ui-css/semantic.min.css'\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}